<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="./axios.js"></script>
  <style>
    *{
      margin: 0;
      padding: 0;
    }
  </style>
</head>
<body>
  <button class="btn">获取文章类名</button><br>
  <button class="btn1">新增文章类名</button><br>

  <input type="text" id="a" placeholder="文章标题" style="margin-top: 100px; margin-left: 100px;"><br>
  <textarea name="" id="b" cols="30" rows="10" placeholder="文章内容"style="margin-top: 50px; margin-left: 100px;"></textarea>
  <button class="btn2">发布</button>
  <script type="text/javascript">
    const btn = document.querySelector('.btn')
    btn.addEventListener('click', function() {
      // console.log('123')
      axios({
        url: 'http://127.0.0.1/api/getBookClass'
      }).then(res => {
        console.log(res)
      })
    })

    const btn1 = document.querySelector('.btn1')
    btn1.addEventListener('click', function() {
      // console.log('123')
      axios({
        url: 'http://127.0.0.1/api/addBookClass',
        method: 'post',
        params: {
          className: '都市'
        }
      }).then(res => {
        console.log(res)
      })
    })

    const a = document.querySelector('#a')
    const b = document.querySelector('#b')
    const btn2 = document.querySelector('.btn2')
    btn2.addEventListener('click', function() {
      console.log(a.value)
      console.log(b.value)
      axios({
        url: 'http://127.0.0.1/api/releaseArticle',
        method: 'post',
        data: {
          userId: 1,
          articleTitle: a.value,
          articleBody : b.value,
          articleType: '恐怖'
        }
      }).then(res => {
        console.log(res)
        // a.value = ''
        // b.value = ''
      })
    })
  </script>
</body>
</html>